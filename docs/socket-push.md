# WEB_SOCKET 推送说明

## 足球类

___
### 比赛状态推送

```json
{
    "cmd": "P01",
    "data": {
        "mid": 1,     //比赛id
        "sports": 1,     //体育类型。1足球，2篮球
        "event": "100", // 事件编号。0: 进球,1: 点球,2: 乌龙球, 3: 黄牌,4: 红牌,5: 两黄变一红 8:点球射失。100比赛状态变化。200比赛技术统计变化
        "trigger": 0, //事件发生方（0中立，1主队，2客队）
        "ext": {
                "status": 1,// 比赛状态。0 :未开始 1:上半场 2:中场 3:下半场 4:完场 5:中断 6:取消 7:加时 8:加时 9:加时 10:完场 11:点球大战 12:全场结束 13:延期 14: 腰斩 15: 待定 16:金球 17:未开始（0、17 同为未开始，7、8、9 为加时，4、10、12 完场）
                "t_start_time":"",// 比赛实际开始时间
                "server_time": ""// 系统时间。比赛时间=server_time - t_start_time。
            }
    }
}
```

___
### 进球、红黄牌、换人事件推送格式

```json
{
    "cmd": "P02",
    "data": {
        "mid": 1,     //比赛id
        "sports": 1,     //体育类型。1足球，2篮球
        "event": "1", // 事件编号。0: 进球,1: 点球,2: 乌龙球, 3: 黄牌,4: 红牌,5: 两黄变一红 8:点球射失。100比赛状态变化。200比赛技术统计变化。
        "trigger": 0, //事件发生方（0中立，1主队，2客队）
        "ext": {
                "minute": "88",// 事件时间
                "type": "1",// 类型(1 为主队，2 为客队)
                "event": "300",// 事件编号。0: 进球,1: 点球,2: 乌龙球, 3: 黄牌,4: 红牌,5: 两黄变一红 8:点球射失。300换人事件。101比赛开始，102中场，104完场，107加时开始，110加时结束
                "ename": "换人",// 事件名称。对应事件编号
                "score": "",// 事件发生后比分
                "pid": "7734",// 换人事件：上场球员编号。 其他事件：事件相关球员ID。
                "pName": "乔治·圣地亚哥·迪亚兹·门德斯",// 换人事件：上场球员名称。 其他事件：事件相关球员名。
                "outtime": "0",// 是否伤停补时 0否1是
                "pid2": "7733",// 换人事件：下场球员编号。  其他事件：助攻球员编号。
                "pName2": "乔尔·坎贝尔",// 换人事件：下场球员名称。  其他事件：助攻球员名称
                "yellow": {
                    "home": "2",// 主队黄牌数。事件为 3: 黄牌,4: 红牌,5: 两黄变一红 时出现
                    "guest": "3"// 客队黄牌数。事件为 3: 黄牌,4: 红牌,5: 两黄变一红 时出现
                },
                "red": {
                    "home": "1",// 主队红牌数。事件为 3: 黄牌,4: 红牌,5: 两黄变一红 时出现
                    "guest": "1"// 客队红牌数。事件为 3: 黄牌,4: 红牌,5: 两黄变一红 时出现
                }
            }
    }
}
```
___
### 比赛技术统计变化

```json
{
    "cmd": "P03",
    "data": {
        "mid": 1,     //比赛id
        "sports": 1,     //体育类型。1足球，2篮球
        "event": "200", // 事件编号。0: 进球,1: 点球,2: 乌龙球, 3: 黄牌,4: 红牌,5: 两黄变一红 8:点球射失。100比赛状态变化。200比赛技术统计变化
        "trigger": 0, //事件发生方（0中立，1主队，2客队）
        "ext": {
            "kickoff": {
                "home": "",// 主队数据
                "guest": "*"// 客队数据
            },
        }
    }
}
```
___
### 比分变化

```json
{
    "cmd": "P04",
    "data": {
        "mid": 1,     //比赛id
        "sports": 1,     //体育类型。1足球，2篮球
        "event": "0", // 事件编号。0进球
        "trigger": 1, //事件发生方（0中立，1主队，2客队）
        "ext": {
                "status": 1,// 比赛状态。0 :未开始 1:上半场 2:中场 3:下半场 4:完场 5:中断 6:取消 7:加时 8:加时 9:加时 10:完场 11:点球大战 12:全场结束 13:延期 14: 腰斩 15: 待定 16:金球 17:未开始（0、17 同为未开始，7、8、9 为加时，4、10、12 完场）
                "minute": 6,// 事件发生时间
                "score": "1-0",// 事件发生后比分
            }
    }
}
```
___
### 足球欧盘格式

```json
{
    "cmd":"P08",
    "data":{
        "list":[
            {
                "mid":1,// 比赛id
                "company_id":1,// 指数公司ID
                "odd":{
                    "w":"2.55",// 主胜赔率
                    "d":"2.70",// 平局赔率
                    "l":"2.70",// 客胜赔率
                    "wi":"2.55",// 主胜初盘
                    "di":"2.70",// 平局初盘
                    "li":"2.70"// 客胜初盘
                }
            }
        ]
    }
}
```
___
### 足球亚盘格式

```json
{
    "cmd":"P09",
    "data":{
        "list":[
            {
                "mid":1,// 比赛id
                "company_id":1,// 指数公司ID
                "odd":{
                    "h":"1.01",// 主赔
                    "g":"0.85",// 客赔
                    "l":"-3.50",// 让球
                    "hi":"0.92",// 主赔（初盘）
                    "gi":"0.93",// 客赔（初盘）
                    "li":"-3.25"// 让球（初盘）
                }
            }
        ]
    }
}
```
___
### 足球大小盘格式 

```json
{
    "cmd":"P10",
    "data":{
        "list":[
            {
                "mid":1,//比赛id
                "company_id":1,//指数公司ID
                "odd":{
                    "b":"0.84",// 大球
                    "s":"0.99",// 小球
                    "t":"4.50",// 总分
                    "bi":"0.89",// 大球（初盘）
                    "si":"0.92",// 小球（初盘）
                    "ti":"4.25"// 总分（初盘）
                }
            }
        ]
    }
}
```
___
___
___
___
___
## 篮球类
___
### 比赛状态变化格式

```json
{
    "cmd": "P05",
    "data": {
        "mid": 1,     //比赛id
        "sports": 2,     //体育类型。1足球，2篮球
        "event": "100", // 事件编号。100比赛状态变化。200比赛技术统计变化
        "trigger": 0, //事件发生方（0中立，1主队，2客队）
        "ext": {
                "status": 1,// 比赛状态值。0 ：未开始,1：第一节,2：第一节完,3：第二节,4：第二节完,5：第三节,6：第三节完,7：第四节,8：第四节完,9：完场,10：加时,11：完场(加),12：中断,13：取消,14: 延期,15: 腰斩,16待定
                "r_time":"",// 比赛当前剩余时间，配合比赛状态使用
            }
    }
}
```
___
### 比分变化推送格式

```json
{
    "cmd": "P06",
    "data": {
        "mid": 1,     //比赛id
        "sports": 2,     //体育类型。1足球，2篮球
        "event": "300", // 事件编号。100比赛状态变化。200比赛技术统计变化。300比分变化
        "trigger": 0, //事件发生方（0两队都有变化，1主队，2客队）
        "ext": {
                "home_total": 122,// 主队总得分
                "home_first": 26,// 主队第一节得分
                "home_second": 38,// 主队第二节得分
                "home_third": 28,// 主队第三节得分
                "home_fourth": 30,// 主队第四节得分
                "home_ot": 0,// 主队加时得分
                "guest_total": 115,// 客队总得分
                "guest_first": 35,// 客队第一节得分
                "guest_second": 25,// 客队第二节得分
                "guest_third": 30,// 客队第三节得分
                "guest_fourth": 25,// 客队第四节得分
                "guest_ot": 0,// 客队加时得分
                "home_h": 64,// 主队半场得分
                "guest_h": 60,// 客队半场得分
                "r_time": "",// 比赛当前剩余时间，配合比赛状态使用
                "status": 9,// 比赛状态值。0 ：未开始,1：第一节,2：第一节完,3：第二节,4：第二节完,5：第三节,6：第三节完,7：第四节,8：第四节完,9：完场,10：加时,11：完场(加),12：中断,13：取消,14: 延期,15: 腰斩,16待定
            }
    }
}
```
___
### 比赛技术统计变化

```json
{
    "cmd": "P07",
    "data": {
        "mid": 1,     //比赛id
        "sports": 2,     //体育类型。1足球，2篮球
        "event": "200", // 事件编号。100比赛状态变化。200比赛技术统计变化。300比分变化
        "trigger": 0, //事件发生方（0中立，1主队，2客队）
        "ext": {
            "home_stat": [
                [
                    "勒布朗-詹姆斯",// 球员名
                    84,// 球员ID。(值有可能为0，则无球员资料库)
                    "",// nba和wnba（F：前锋、C中锋、G后卫） cba 1为首发，无具体的位置
                    "39:14",// 在场时间
                    "8-17",// 投篮
                    "1-6",// 三分
                    "8-11",// 罚球
                    "0",// 进攻
                    "8",// 防守
                    "8",// 总数
                    "6",// 助攻
                    "3",// 犯规
                    "1",// 抢断
                    "2",// 失误
                    "1",// 盖帽
                    "25",// 得分
                    "",// 快攻（仅CBA）
                    "",// 扣篮（仅CBA）
                    ""// 球员号码
                ]
            ],
            "guest_stat": [
                [
                    "兰德里-沙梅特",
                    75,
                    "",
                    "32:54",
                    "3-8",
                    "3-7",
                    "3-3",
                    "0",
                    "2",
                    "2",
                    "3",
                    "2",
                    "0",
                    "0",
                    "0",
                    "12",
                    "",
                    "",
                    ""
                ]
            ],
            "home_stat_total": [// 主队技术统计合计
                "224",// 时间
                "35-86",// 投篮
                "9-36",// 三分
                "17-21",// 罚球
                "7",// 进攻
                "31",// 防守
                "38",// 总数
                "21",// 助攻
                "21",// 犯规
                "2",// 抢断
                "12",// 失误
                "5",// 盖帽
                "96",// 得分
                "",// 快攻（仅CBA）
                ""// 扣篮（仅CBA）
            ],
            "guest_stat_total": [// 客队技术统计合计
                "224",
                "39-77",
                "11-27",
                "20-24",
                "6",
                "39",
                "45",
                "25",
                "20",
                "7",
                "14",
                "3",
                "109",
                "",
                ""
            ]
        }
    }
}
```
___
### 篮球欧盘格式

```json
{
    "cmd":"P11",
    "data":{
        "list":[
            {
                "mid":1,//比赛id
                "company_id":1,//指数公司ID
                "odd":{
                    "h":"0.31",// 主赔
                    "g":"2.20",// 客赔
                    "hi":"0.31",// 主赔初盘
                    "gi":"2.20"// 客赔初盘
                }
            }
        ]
    }
}
```
___
### 篮球亚盘格式
```json
{
    "cmd":"P12",
    "data":{
        "list":[
            {
                "mid":1,//比赛id
                "company_id":1,//指数公司ID
                "odd":{
                    "h":"0.94",// 主赔
                    "g":"0.88",// 客赔
                    "l":"-7.00",// 让球
                    "hi":"0.94",// 主赔初盘
                    "gi":"0.88",// 客赔初盘
                    "li":"-7.00"// 让球初盘
                }
            }
        ]
    }
}
```
___
### 篮球大小盘格式
```json
{
    "cmd":"P13",
    "data":{
        "list":[
            {
                "mid":1,//比赛id
                "company_id":1,//指数公司ID
                "odd":{
                    "b":"0.94",// 大球
                    "s":"0.88",// 小球
                    "t":"165.00",// 总分
                    "bi":"0.90",// 大球初盘
                    "si":"0.88",// 小球初盘
                    "ti":"165.50"// 总分初盘
                }
            }
        ]
    }
}
```
